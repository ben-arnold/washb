<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Estimate means with robust SEs — washb_mean • washb</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Estimate means with robust SEs — washb_mean" />

<meta property="og:description" content="Means estimated with robust standard errors for the WASH Benefits trials" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">washb</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/washb.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate means with robust SEs</h1>
    
    <div class="hidden name"><code>washb_mean.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Means estimated with robust standard errors for the WASH Benefits trials</p>
    
    </div>

    <pre class="usage"><span class='fu'>washb_mean</span>(<span class='no'>Y</span>, <span class='no'>id</span>, <span class='kw'>print</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Y</th>
      <td><p>Outcome variable</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>ID variable for independent units (in WASH Benefits: cluster ID)</p></td>
    </tr>
    <tr>
      <th>print</th>
      <td><p>Logical. If print=TRUE (default) the function will print the results.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a 1x6 matrix that includes the number of observations, outcome mean, standard deviation, robust SE for the mean, lower 95% CI, upper 95% CI</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Calculate means for a variable along with robust sandwich SEs and 95% confidence intervals that account for clustering within id</p>
<p>This function is most useful for calculating variable means and confidence intervals -- for example, calculating average compliance (uptake) within a given intervention arm, or calculating the average LAZ by arm or measurement round. In the WASH Benefits trials, the independent unit is typically the cluster, so the 'id' argument should identify the cluster ID.  If you wish to actually compare means between groups using a difference, prevalence ratio, or incidence ratio (depending on the outcome), use washb_glm, washb_ttest(for continuous outcomes), or washb_mh (for binary outcomes).</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
 <span class='co'>#Example using the washb_mean function on child LAZ score</span>

 <span class='co'>#Load in Bandladesh anthropometry data and enrollment data</span>
 <span class='co'>#data(washb_bd_anthro)</span>
 <span class='co'>#data(washb_bd_enrol)</span>

 <span class='co'># drop svydate and month because they are superceded in the child level diarrhea data</span>
 <span class='no'>washb_bd_enrol</span>$<span class='no'>svydate</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>
 <span class='no'>washb_bd_enrol</span>$<span class='no'>month</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>
 <span class='no'>ad</span> <span class='kw'>&lt;-</span> <span class='fu'>merge</span>(<span class='no'>washb_bd_enrol</span>,<span class='no'>washb_bd_anthro</span>,<span class='kw'>by</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"dataid"</span>,<span class='st'>"clusterid"</span>,<span class='st'>"block"</span>,<span class='st'>"tr"</span>),<span class='kw'>all.x</span><span class='kw'>=</span><span class='no'>F</span>,<span class='kw'>all.y</span><span class='kw'>=</span><span class='no'>T</span>)
 <span class='no'>ad</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>ad</span>,<span class='no'>svy</span><span class='kw'>==</span><span class='fl'>2</span>)
 <span class='no'>ad</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>ad</span>,<span class='no'>tchild</span><span class='kw'>==</span><span class='st'>"Target child"</span>)

 <span class='no'>ad</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>ad</span>,<span class='no'>laz_x</span><span class='kw'>!=</span><span class='fl'>1</span>)

 <span class='co'>#Make sure the treatment group variables are set as factors:</span>
 <span class='no'>ad</span>$<span class='no'>tr</span> <span class='kw'>&lt;-</span> <span class='fu'>factor</span>(<span class='no'>ad</span>$<span class='no'>tr</span>,<span class='kw'>levels</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"Control"</span>,<span class='st'>"Water"</span>,<span class='st'>"Sanitation"</span>,<span class='st'>"Handwashing"</span>,<span class='st'>"WSH"</span>,<span class='st'>"Nutrition"</span>,<span class='st'>"Nutrition + WSH"</span>))

 <span class='co'>#Run washb_mean function on child LAZ score outcome:</span>
 <span class='fu'>washb_mean</span>(<span class='kw'>Y</span><span class='kw'>=</span><span class='no'>ad</span>$<span class='no'>laz</span>,<span class='kw'>id</span><span class='kw'>=</span><span class='no'>ad</span>$<span class='no'>clusterid</span>,<span class='kw'>print</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;         N      Mean       SD  Robust SE Lower 95%CI Upper 95%CI
#&gt; [1,] 4584 -1.755888 1.026709 0.01723355   -1.789666    -1.72211</div><div class='input'>
 <span class='co'>#Run the function to calculate child LAZ by select intervention arms</span>

 <span class='co'>#Subset data to only handwashing arm:</span>
 <span class='no'>H</span><span class='kw'>&lt;-</span><span class='no'>ad</span>[<span class='fu'>which</span>(<span class='no'>ad</span>$<span class='no'>tr</span><span class='kw'>==</span><span class='st'>"Handwashing"</span>),]

 <span class='co'>#Run function:</span>
 <span class='fu'>washb_mean</span>(<span class='kw'>Y</span><span class='kw'>=</span><span class='no'>H</span>$<span class='no'>laz</span>,<span class='kw'>id</span><span class='kw'>=</span><span class='no'>H</span>$<span class='no'>clusterid</span>,<span class='kw'>print</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;        N     Mean        SD  Robust SE Lower 95%CI Upper 95%CI
#&gt; [1,] 570 -1.85407 0.9942592 0.04910706    -1.95032    -1.75782</div><div class='input'>
 <span class='co'>#Subset data to only WSH arm:</span>
 <span class='no'>WSH</span><span class='kw'>&lt;-</span><span class='no'>ad</span>[<span class='fu'>which</span>(<span class='no'>ad</span>$<span class='no'>tr</span><span class='kw'>==</span><span class='st'>"WSH"</span>),]

 <span class='co'>#Run function:</span>
 <span class='fu'>washb_mean</span>(<span class='kw'>Y</span><span class='kw'>=</span><span class='no'>WSH</span>$<span class='no'>laz</span>,<span class='kw'>id</span><span class='kw'>=</span><span class='no'>WSH</span>$<span class='no'>clusterid</span>,<span class='kw'>print</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;        N      Mean       SD  Robust SE Lower 95%CI Upper 95%CI
#&gt; [1,] 579 -1.758549 1.011105 0.04296567   -1.842762   -1.674337</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Andrew Mertens, Ben Arnold.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

